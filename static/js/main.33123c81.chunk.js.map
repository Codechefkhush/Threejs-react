{"version":3,"sources":["components/Orbit.jsx","components/Background.jsx","components/Floor.jsx","state.js","components/ColorPicker.jsx","components/BoundingBox.jsx","components/Model.jsx","components/Draggable.jsx","components/Cars.jsx","components/CameraControls.jsx","components/CameraButtons.jsx","components/Bulb.jsx","components/Lights.jsx","components/Effects.jsx","components/Spinner.jsx","App.js","reportWebVitals.js","index.js"],"names":["extend","OrbitControls","Orbit","useThree","camera","gl","attach","args","domElement","Background","props","texture","useLoader","THREE","process","formatted","useMemo","image","height","fromEquirectangularTexture","object","Floor","useBox","ref","receiveShadow","color","opacity","state","activeMesh","activeMeshName","cameraPos","target","shouldUpdate","sharedStyles","width","borderRadius","cursor","ColorPicker","handleClick","e","material","style","background","position","zIndex","left","right","margin","display","top","onClick","BoundingBox","offset","dims","visible","children","mass","api","scale","wireframe","Model","mixer","model","GLTFLoader","path","animations","length","scene","forEach","clip","clipAction","play","useFrame","delta","update","traverse","child","isMesh","castShadow","side","DragControls","Draggable","groupRef","useRef","controlsRef","useState","setChildren","useEffect","current","addEventListener","orbitControls","enabled","console","log","set","copy","velocity","transformGroup","Cars","fallback","Array","fill","CameraControls","name","getObjectByName","lerp","clone","sub","justifyContent","alignItems","bottom","backgroundColor","fontSize","fontWeight","border","CameraButtons","sets","focusIndex","direction","num","Bulb","lights","push","shadow-mapSize-height","shadow-mapSize-width","shadow-radius","emissive","Lights","intensity","Effects","setLights","focusDistance","focalLength","bokehScale","Spinner","_","get","rotation","y","x","App","window","innerWidth","innerHeight","windowDimensions","setWindowDimensions","handleResize","powerPreference","antialias","stencil","depth","shadowMap","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33123c81.chunk.js","sourcesContent":["import { extend, useThree } from 'react-three-fiber';\r\nimport {\r\n    OrbitControls\r\n} from 'three/examples/jsm/controls/OrbitControls';\r\nextend({ OrbitControls });\r\n\r\nconst Orbit = () => {\r\n    const { camera, gl } = useThree();\r\n    return (\r\n        <orbitControls \r\n            attach='orbitControls'\r\n            args={[camera, gl.domElement]} \r\n        />\r\n    )\r\n}\r\n\r\nexport default Orbit;","import { useLoader, useThree } from 'react-three-fiber';\r\nimport * as THREE from 'three';\r\nimport { useMemo } from 'react';\r\n\r\nconst Background = props => {\r\n    const texture = useLoader(\r\n        THREE.TextureLoader,\r\n        process.env.PUBLIC_URL + '/modern-background-gray.jpeg'\r\n    );\r\n\r\n    const { gl } = useThree();\r\n    const formatted = useMemo(() =>\r\n        new THREE.WebGLCubeRenderTarget(\r\n                texture.image.height\r\n        ).fromEquirectangularTexture(gl, texture)\r\n    ,[gl, texture])\r\n\r\n    return (\r\n        <primitive\r\n            attach='background'\r\n            object={formatted}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Background;\r\n","import { useBox } from 'use-cannon';\r\n\r\nconst Floor = props => {\r\n    const [ref, api] = useBox(() => ({args: [20,1,10], ...props}))\r\n    return (\r\n        <mesh ref={ref} {...props} receiveShadow>\r\n            <boxBufferGeometry args={[200, 1, 200]} />\r\n            <meshPhysicalMaterial color={'black'} opacity={1}/>\r\n        </mesh>\r\n    )\r\n}\r\n\r\nexport default Floor;\r\n","import * as THREE from 'three'\r\n// model3 name: \"Capot001_CAR_PAINT_0\"\r\n// model s name: \"object005_bod_0\"\r\nconst state = {\r\n    activeMesh: {},\r\n    activeMeshName: \"Capot001_CAR_PAINT_0\",\r\n    cameraPos: new THREE.Vector3(9,2,4),\r\n    target: new THREE.Vector3(4,0,0),\r\n    shouldUpdate: true\r\n}\r\n\r\nexport default state","import * as THREE from 'three';\r\nimport state from '../state'\r\n\r\nconst sharedStyles = {\r\n    height: 50,\r\n    width: 50,\r\n    borderRadius: '50%',\r\n    cursor: 'pointer'\r\n};\r\n\r\nconst ColorPicker = props => {\r\n    const handleClick = e => {\r\n        if (!state.activeMesh) return;\r\n        state.activeMesh.material.color = new THREE.Color(e.target.style.background)\r\n    }\r\n    return (\r\n        <div\r\n            style={{\r\n                position: 'absolute',\r\n                zIndex: 1,\r\n                left: 0,\r\n                right: 0,\r\n                margin: 'auto',\r\n                width: 'fit-content',\r\n                display: 'flex',\r\n                top: '20px'\r\n            }}\r\n        >\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: 'rgb(243, 246, 247)',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: 'black',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: 'red',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: 'rgb(30, 75, 93)',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: '#000d89',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n            <div\r\n                onClick={handleClick}\r\n                style={{\r\n                    background: '#175421',\r\n                    ...sharedStyles\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ColorPicker;\r\n","import { useBox } from 'use-cannon'\r\n\r\nconst BoundingBox = ({\r\n    position = [0,0,0],\r\n    offset = [0,0,0],\r\n    dims = [1,1,1],\r\n    visible = false,\r\n    children\r\n}) => {\r\n    const [ref, api] = useBox(() => ({ mass: 1, args: dims, position: position }))\r\n    return (\r\n        <group ref={ref} api={api}>\r\n            <mesh scale={dims} visible={visible}>\r\n                <boxBufferGeometry />\r\n                <meshPhysicalMaterial wireframe/>\r\n            </mesh>\r\n            <group position={offset}>\r\n                {children}\r\n            </group>\r\n        </group>\r\n    )\r\n}\r\n\r\nexport default BoundingBox","import { useLoader, useFrame } from 'react-three-fiber';\r\nimport {\r\n    GLTFLoader\r\n} from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport * as THREE from 'three'\r\n// small change\r\nconst Model = props => {\r\n    const model = useLoader(\r\n        GLTFLoader,\r\n        process.env.PUBLIC_URL + props.path\r\n    )\r\n\r\n    let mixer\r\n    if (model.animations.length > 0) {\r\n        mixer = new THREE.AnimationMixer(model.scene)\r\n        model.animations.forEach(clip => {\r\n            const action = mixer.clipAction(clip)\r\n            action.play()\r\n        })\r\n    }\r\n\r\n    useFrame((scene,delta) => {\r\n        mixer?.update(delta)\r\n    })\r\n\r\n    model.scene.traverse(child => {\r\n        if (child.isMesh) {\r\n            child.castShadow = true\r\n            child.receiveShadow = true\r\n            child.material.side = THREE.FrontSide\r\n        }\r\n    })\r\n\r\n    return (\r\n        <primitive\r\n            object={model.scene}\r\n            scale={props.scale}\r\n            position={props.position}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Model;\r\n","import {\r\n    DragControls\r\n} from 'three/examples/jsm/controls/DragControls';\r\nimport { useRef, useEffect, useState } from 'react';\r\nimport { useThree, extend } from 'react-three-fiber';\r\nextend ({ DragControls });\r\n\r\nconst Draggable = props => {\r\n    const groupRef = useRef();\r\n    const controlsRef = useRef();\r\n    const [children, setChildren] = useState([])\r\n    const { camera, gl, scene } = useThree();\r\n\r\n    useEffect(() => {\r\n        setChildren(groupRef.current.children)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        controlsRef.current.addEventListener(\r\n            'hoveron',\r\n            e => scene.orbitControls.enabled = false\r\n        )\r\n        controlsRef.current.addEventListener(\r\n            'hoveroff',\r\n            e => scene.orbitControls.enabled = true\r\n        )\r\n        controlsRef.current.addEventListener(\r\n            'dragstart',\r\n            e => {\r\n                console.log(e.object);\r\n                e.object.api?.mass.set(0)\r\n            }\r\n        )\r\n        controlsRef.current.addEventListener(\r\n            'dragend',\r\n            e => e.object.api?.mass.set(1)\r\n        )\r\n        controlsRef.current.addEventListener(\r\n            'drag',\r\n            e => {\r\n                e.object.api?.position.copy(e.object.position)\r\n                e.object.api?.velocity.set(0,0,0)\r\n            }\r\n        )\r\n    },[children])\r\n\r\n    return (\r\n        <group ref={groupRef}>\r\n            <dragControls\r\n                transformGroup={props.transformGroup}\r\n                ref={controlsRef}\r\n                args={[children,camera, gl.domElement]}\r\n            />\r\n            {props.children}\r\n        </group>\r\n    )\r\n}\r\n\r\nexport default Draggable;\r\n","import { Suspense } from 'react'\r\nimport BoundingBox from './BoundingBox'\r\nimport Model from './Model'\r\nimport Draggable from './Draggable'\r\n\r\nconst Cars = ({ }) => {\r\n    return (\r\n        <Suspense fallback={null}>\r\n            <Draggable transformGroup>\r\n                <BoundingBox\r\n                    position={[4, 4, 0]}\r\n                    dims={[3, 2, 6]}\r\n                    offset={[0, -0.4, 0.8]}\r\n                >\r\n                    <Model\r\n                        path='/tesla_model_3/scene.gltf'\r\n                        scale={new Array(3).fill(0.01)}\r\n                    />\r\n                </BoundingBox>\r\n            </Draggable>\r\n            <Draggable transformGroup>\r\n                <BoundingBox\r\n                    position={[-4, 4, 0]}\r\n                    dims={[3, 2, 7]}\r\n                    offset={[0, -0.8, 0.2]}\r\n                >\r\n                    <Model\r\n                        path='/tesla_model_s/scene.gltf'\r\n                        scale={new Array(3).fill(0.013)}\r\n                    />\r\n                </BoundingBox>\r\n            </Draggable>\r\n            <Draggable transformGroup>\r\n                <BoundingBox\r\n                    position={[-8, 0, 0]}\r\n                    dims={[3, 2, 7]}\r\n                    offset={[-4, -0.9, -0.4]}\r\n                >\r\n                    <Model\r\n                        path='/tesla_roadster_2020_interior/scene.gltf'\r\n                        scale={new Array(3).fill(2)}\r\n                    />\r\n                </BoundingBox>\r\n            </Draggable>\r\n\r\n            {/*<Draggable transformGroup >*/}\r\n            {/*    <Model*/}\r\n            {/*        path='/old_gramophone/scene.gltf'*/}\r\n            {/*        scale={new THREE.Vector3(.05, .05, .05)}*/}\r\n            {/*        position={[0, 0, 3]}*/}\r\n            {/*    />*/}\r\n            {/*</Draggable>*/}\r\n            {/*<Draggable transformGroup>*/}\r\n            {/*    <BoundingBox*/}\r\n            {/*        dims={[3, 2, 6]}*/}\r\n            {/*    >*/}\r\n            {/*        <Model*/}\r\n            {/*            path='/spectral_rubix/scene.gltf'*/}\r\n            {/*            scale={new THREE.Vector3(.3, .3, .3)}*/}\r\n            {/*            position={[0, 1, -5]}*/}\r\n            {/*        />*/}\r\n            {/*    </BoundingBox>*/}\r\n            {/*</Draggable>*/}\r\n        </Suspense>\r\n    )\r\n}\r\n\r\nexport default Cars\r\n","import { useFrame } from 'react-three-fiber'\r\nimport state from '../state'\r\n\r\nconst CameraControls = ({ }) => {\r\n\r\n    useFrame(({ camera, scene }) => {\r\n        if (state.activeMesh.name !== state.activeMeshName) {\r\n            state.activeMesh = scene.getObjectByName(\r\n                state.activeMeshName\r\n            ) || {}\r\n        }\r\n        if (state.shouldUpdate) {\r\n            camera.position.lerp(state.cameraPos,0.1)\r\n            scene.orbitControls.target.lerp(state.target,0.1)\r\n            scene.orbitControls.update()\r\n            const diff =\r\n                camera.position.clone()\r\n                .sub(state.cameraPos).length()\r\n            if (diff < 0.1) state.shouldUpdate = false\r\n        }\r\n    })\r\n    return (\r\n        null\r\n    )\r\n}\r\n\r\nexport default CameraControls\r\n","import {useState} from 'react';\r\nimport state from '../state'\r\n\r\nconst style = {\r\n    zIndex: 1,\r\n    position: 'absolute',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    bottom: '5vh',\r\n    height: '40px',\r\n    width: '40px',\r\n    backgroundColor: 'rgb(30, 75, 93)',\r\n    color: 'black',\r\n    borderRadius: '50%',\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    border: '1px solid black',\r\n    cursor: 'pointer'\r\n}\r\n\r\nconst CameraButtons = ({}) => {\r\n    const sets = [\r\n        // Roadster\r\n        {\r\n            cameraPos: [-7, 2, 5],\r\n            target: [-12,0,0],\r\n            name: \"Object_6\"\r\n        },\r\n        // model_s\r\n        {\r\n            cameraPos: [1,2,5],\r\n            target: [-4,0,0],\r\n            name: \"object005_bod_0\"\r\n        },\r\n        // model_3\r\n        {\r\n            cameraPos: [9,2,4],\r\n            target: [4,0,0],\r\n            name: \"Capot001_CAR_PAINT_0\"\r\n        }\r\n    ];\r\n\r\n    let focusIndex = 2;\r\n    const handleClick = direction => {\r\n        if (direction === 'right' && focusIndex < sets.length - 1) {\r\n            focusIndex += 1;\r\n        } else if (direction === 'left' && focusIndex > 0) {\r\n            focusIndex -= 1;\r\n        } else {\r\n            console.log('no action')\r\n        }\r\n        const num = focusIndex;\r\n        state.cameraPos.set(...sets[num].cameraPos);\r\n        state.target.set(...sets[num].target);\r\n        state.activeMeshName = sets[num].name;\r\n        state.shouldUpdate = true;\r\n    };\r\n    return (\r\n        <>\r\n            <button\r\n                onClick={e => handleClick('left')}\r\n                style={{\r\n                    left: '40vw',\r\n                    ...style\r\n                }}\r\n            >\r\n                {'<'}\r\n            </button>\r\n            <button\r\n                onClick={e => handleClick('right')}\r\n                style={{\r\n                    right: '40vw',\r\n                    ...style\r\n                }}\r\n            >\r\n                {'>'}\r\n            </button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CameraButtons\r\n","import { useEffect, useRef } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\n\r\nconst Bulb = props => {\r\n    const ref = useRef()\r\n    const { scene } = useThree()\r\n    useEffect(() => {\r\n        if (scene.lights) scene.lights.push(ref)\r\n        else scene.lights = [ref]\r\n    }, [])\r\n    return (\r\n        <mesh {...props} ref={ref}>\r\n            <pointLight\r\n                castShadow\r\n                shadow-mapSize-height={2**10}\r\n                shadow-mapSize-width={2**10}\r\n                shadow-radius={10}\r\n            />\r\n            <sphereBufferGeometry args={[0.2, 20, 20]} />\r\n            <meshPhongMaterial emissive='white' />\r\n        </mesh>\r\n    )\r\n}\r\n\r\nexport default Bulb;\r\n","import Bulb from './Bulb'\r\n\r\nconst Lights = ({}) => {\r\n    return (\r\n        <>\r\n            <ambientLight intensity={0.2}/>\r\n            <directionalLight \r\n                // shadow-mapSize-height={2**10}\r\n                // shadow-mapSize-width={2**10}\r\n                // shadow-radius={10}\r\n                intensity={0.5}\r\n                position={[6,3,0]}\r\n                // castShadow\r\n            />\r\n            <Bulb position={[-6,3,0]} />\r\n            <Bulb position={[0,3,0]} />\r\n            <Bulb position={[6, 3, 0]} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Lights\r\n","import { \r\n    EffectComposer,\r\n    DepthOfField,\r\n    GodRays\r\n} from 'react-postprocessing'\r\nimport { useState, useEffect } from 'react'\r\nimport { useThree } from 'react-three-fiber'\r\n\r\nconst Effects = () => {\r\n    const [lights, setLights] = useState(null)\r\n    const { scene } = useThree()\r\n    useEffect(() => {\r\n        if (scene.lights && scene.lights.length === 3)\r\n            setLights(scene.lights)\r\n    }, [scene.lights])\r\n    return (\r\n        lights ? \r\n        <EffectComposer>\r\n            <DepthOfField\r\n                focusDistance={0}\r\n                focalLength={0.02}\r\n                bokehScale={2}\r\n                height={480}\r\n            />\r\n            {/* {lights.map(light => \r\n                <GodRays \r\n                    key={light.current.uuid} \r\n                    sun={light.current}\r\n                />\r\n            )} */}\r\n        </EffectComposer>\r\n        :\r\n        null\r\n    )\r\n}\r\n\r\nexport default Effects","import React, {useRef} from 'react';\r\nimport * as THREE from 'three';\r\nimport {useFrame} from \"react-three-fiber\";\r\nimport _ from 'lodash';\r\n\r\nconst Spinner = () => {\r\n    const ref = useRef();\r\n    useFrame(state => {\r\n        const y = _.get(ref.current, 'rotation.y');\r\n        if (y) {\r\n            ref.current.rotation.y += .1;\r\n            ref.current.rotation.x += .1;\r\n        }\r\n    });\r\n\r\n    return (\r\n        <mesh ref={ref} position={[0, 3, 0]}>\r\n            <dodecahedronBufferGeometry args={[1, 1]} />\r\n            <meshPhysicalMaterial color={'rgb(30, 75, 93)'} opacity={.5} side={THREE.DoubleSide}/>\r\n        </mesh>\r\n    )\r\n};\r\n\r\nexport default Spinner;\r\n","import { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport {\r\n    Canvas, useFrame\r\n} from 'react-three-fiber';\r\nimport { Physics } from 'use-cannon';\r\nimport { Suspense } from 'react';\r\nimport Orbit from './components/Orbit';\r\nimport Box from './components/Box';\r\nimport Background from './components/Background';\r\nimport Floor from './components/Floor';\r\nimport ColorPicker from './components/ColorPicker';\r\nimport Cars from './components/Cars'\r\nimport CameraControls from './components/CameraControls'\r\nimport CameraButtons from './components/CameraButtons'\r\nimport Lights from './components/Lights'\r\nimport Effects from './components/Effects'\r\nimport Spinner from \"./components/Spinner\";\r\n\r\nfunction App() {\r\n    const [windowDimensions, setWindowDimensions] = useState({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    });\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('resize', handleResize);\r\n    }, [windowDimensions]);\r\n\r\n    const handleResize = () => {\r\n        setWindowDimensions({\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        });\r\n    };\r\n  return (\r\n    <div style={{height: '100vh', width: '100vw'}}>\r\n      <ColorPicker />\r\n      <CameraButtons />\r\n      <Canvas\r\n        gl={{\r\n          powerPreference: \"high-performance\",\r\n          antialias: false,\r\n          stencil: false,\r\n          depth: false\r\n        }}\r\n        shadowMap\r\n        style={{background: 'black'}}\r\n        camera={{ position: [7,7,7] }}\r\n      >\r\n        <Suspense fallback={<Spinner />}>\r\n            <Background windowDimensions={windowDimensions} />\r\n        </Suspense>\r\n        <CameraControls />\r\n        <Lights/>\r\n        <Orbit />\r\n        <Physics>\r\n          <Cars />\r\n          <Floor position={[0,-0.5,0]}/>\r\n        </Physics>\r\n        <Effects />\r\n      </Canvas>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}